<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta property="og:site_name" content="SnapBlog"><meta property="og:type" content="article"><meta name=robots content="index,follow,noarchive"><meta property="og:image" content="//img/home-bg-jeep.jpg"><meta property="twitter:image" content="//img/home-bg-jeep.jpg"><meta name=title content="The MacBooks SSD: NVMe &amp;amp; an Apple Developed SSD Controller?"><meta property="og:title" content="The MacBooks SSD: NVMe &amp;amp; an Apple Developed SSD Controller?"><meta property="twitter:title" content="The MacBooks SSD: NVMe &amp;amp; an Apple Developed SSD Controller?"><meta name=description content="To be honest, prior to receiving the MacBook I wasnt expecting anything particularly interesting for the laptops SSD. While we havent seen both sides of the MacBooks logic board, and as a result cant say with certainty how its laid out, from the side we have seen it's clear that were also looking at a"><meta property="og:description" content="To be honest, prior to receiving the MacBook I wasnt expecting anything particularly interesting for the laptops SSD. While we havent seen both sides of the MacBooks logic board, and as a result cant say with certainty how its laid out, from the side we have seen it's clear that were also looking at a"><meta property="twitter:description" content="To be honest, prior to receiving the MacBook I wasnt expecting anything particularly interesting for the laptops SSD. While we havent seen both sides of the MacBooks logic board, and as a result cant say with certainty how its laid out, from the side we have seen it's clear that were also looking at a"><meta property="twitter:card" content="summary"><meta name=keyword content><link rel="shortcut icon" href=./img/favicon.ico><title>The MacBooks SSD: NVMe &amp;amp; an Apple Developed SSD Controller? |</title><link rel=canonical href=./the-2015-macbook-review.html><link rel=stylesheet href=https://assets.cdnweb.info/hugo/cleanwhite/css/bootstrap.min.css><link rel=stylesheet href=https://assets.cdnweb.info/hugo/cleanwhite/css/hugo-theme-cleanwhite.min.css><link rel=stylesheet href=https://assets.cdnweb.info/hugo/cleanwhite/css/zanshang.css><link href=https://cdn.jsdelivr.net/gh/FortAwesome/Font-Awesome@5.15.1/css/all.css rel=stylesheet type=text/css><script src=https://assets.cdnweb.info/hugo/cleanwhite/js/jquery.min.js></script>
<script src=https://assets.cdnweb.info/hugo/cleanwhite/js/bootstrap.min.js></script>
<script src=https://assets.cdnweb.info/hugo/cleanwhite/js/hux-blog.min.js></script></head><nav class="navbar navbar-default navbar-custom navbar-fixed-top"><div class=container-fluid><div class="navbar-header page-scroll"><button type=button class=navbar-toggle>
<span class=sr-only>Toggle navigation</span>
<span class=icon-bar></span>
<span class=icon-bar></span>
<span class=icon-bar></span></button>
<a class=navbar-brand href=./>SnapBlog</a></div><div id=huxblog_navbar><div class=navbar-collapse><ul class="nav navbar-nav navbar-right"><li><a href=./categories/blog>blog</a></li><li><a href=./sitemap.xml>Sitemap</a></li><li><a href=./index.xml>RSS</a></li></ul></div></div></div></nav><script>var $body=document.body,$toggle=document.querySelector(".navbar-toggle"),$navbar=document.querySelector("#huxblog_navbar"),$collapse=document.querySelector(".navbar-collapse");$toggle.addEventListener("click",handleMagic);function handleMagic(){$navbar.className.indexOf("in")>0?($navbar.className=" ",setTimeout(function(){$navbar.className.indexOf("in")<0&&($collapse.style.height="0px")},400)):($collapse.style.height="auto",$navbar.className+=" in")}</script><style type=text/css>header.intro-header{background-image:url(/img/home-bg-jeep.jpg)}</style><header class=intro-header><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><div class=post-heading><div class=tags></div><h1>The MacBooks SSD: NVMe &amp;amp; an Apple Developed SSD Controller?</h1><h2 class=subheading></h2><span class=meta>Posted by
Jenniffer Sheldon
on
Wednesday, March 13, 2024</span></div></div></div></div></header><article><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2
col-md-10 col-md-offset-1
post-container"><p>To be honest, prior to receiving the MacBook I wasn’t expecting anything particularly interesting for the laptop’s SSD. While we haven’t seen both sides of the MacBook’s logic board, and as a result can’t say with certainty how it’s laid out, from the side we have seen it's clear that we’re also looking at a soldered SSD. Which makes a lot of sense, as Apple choosing to save every last millimeter means a M.2 SSD would be out of the question, and meanwhile Apple has plenty of SSD suppliers to choose from, even for soldered designs. Consequently what I was expecting was a Samsung or Toshiba PCIe SSD soldered on to the logic board, similar to the SSD selection of Apple’s other devices.</p><p align=center><a href=#><img alt src=https://cdn.statically.io/img/images.anandtech.com/doci/9136/MB_SSD_575px.png style=margin:auto;display:block;text-align:center;max-width:100%;height:auto></a></p><p>So imagine my surprise when I opened up the System Profiler to see under the hood, and found not one but two unexpected things. First and foremost, a new section was available under the Hardware tree called NVMExpress. Second of all the device listed under NVMExpress has a model number prefix we’ve never seen before; not Samsung or Toshiba, but rather an Apple-ish “AP”. Clearly the MacBook’s SSD was going to be a much bigger deal than I first thought.</p><p>We’ll start with the NVMExpress heading. Short for Non-Volatile Memory Express, NVMe is a new software interface/protocol designed specifically for PCIe SSDs, and designed to complete what has been a two-part transition from SATA SSDs to PCIe SSDs.&nbsp; NVMe replaces AHCI (Advanced Host Controller Interface), which dates back to 2004 and was designed with hard drives in mind. While that doesn't prevent its use on SSDs, AHCI is more optimized for high latency rotating media than low latency non-volatile storage. As a result AHCI can't take full advantage of SSDs, particularly PCIe SSDs with their high bandwidth links, leading the storage industry to develop a software interface that abolishes the limits of AHCI.</p><p>NVMe in turn is built specifically for SSDs and PCIe, and as software interfaces usually live for at least a decade before being replaced, NVMe was designed to be capable of meeting the industry needs as we move to future memory technologies (i.e. we'll likely see RRAM and MRAM enter the storage market before 2020).</p><table border=1 cellpadding=1 cellspacing=1><tbody readability=3><tr class=tlblue><td>&nbsp;</td><td>NVMe</td><td>AHCI</td></tr><tr><td class=tlgrey>Latency</td><td>2.8 µs</td><td>6.0 µs</td></tr><tr readability=4><td class=tlgrey>Maximum Queue Depth</td><td>Up to 64K queues with<br>64K commands each</td><td>Up to 1 queue with<br>32 commands each</td></tr><tr><td class=tlgrey>Multicore Support</td><td>Yes</td><td>Limited</td></tr><tr readability=2><td class=tlgrey>4KB Efficiency</td><td>One 64B fetch</td><td>Two serialized host<br>DRAM fetches required</td></tr></tbody></table><p>The biggest advantage of NVMe is its lower latency. This is mostly due to a streamlined storage stack and the fact that NVMe requires no register reads to issue a command. AHCI requires four uncachable register reads per command, which results in ~2.5µs of additional latency. Another important improvement is support for multiple queues and higher queue depths. Multiple queues ensure that the CPU can be used to its full potential and that the IOPS is not bottlenecked by single core limitation.</p><p>Ultimately NVMe was designed first and foremost for the enterprise market, but client workloads benefit as well, though not by quite as much. For client workloads NVMe still brings with it a reduction in latency, and as <a href=#>our own Kristian Vatto has been keen to point out</a>, even moderate improvements in performance result in increased battery life and that's what NVMe will offer. Thanks to lower latency the disk usage time will decrease, which results in more time spend at idle and thus increased battery life. There can also be corner cases when the better queue support helps with performance.</p><p>It’s just in the last year that we’ve seen NVMe deployed into PCIe SSDs, and those of course have been initially released on to enterprise SSDs. Meanwhile in the consumer space, due to boot issues with NVMe – you need a motherboard as well as OS that can handle booting from NVMe – SSDs are still almost entirely AHCI.</p><p align=center><a href=#><img alt src=https://cdn.statically.io/img/images.anandtech.com/doci/9136/MB_Logic_575px.jpg style=margin:auto;display:block;text-align:center;max-width:100%;height:auto></a></p><p>Which is what makes Apple’s situation so interesting. With such extensive control over their hardware and software alike, Apple has gone ahead and started shipping NVMe drives, beginning with the MacBook. For the MacBook in particular it’s a soldered SSD so Apple doesn’t need to worry about replacement parts or end-user modifications, so this if anything is the safest way to roll out NVMe.</p><p>Ultimately compared to going with PCIe SSDs a couple of years ago, the move to NVMe isn’t quite the same great step. But it’s none the less an important step for Apple as it indicates they’re ready to start shipping NVMe devices, and consequently reaping the performance and battery life benefits.</p><p>Shifting gears, let’s talk about the SSD controller. Along with supporting NVMe, Apple’s SSD also supports a fairly wide PCIe x4 connection. Somewhat surprising it’s only clocked at 5 GT/sec (PCIe 2.0 speeds), but it’s unclear at this time whether that’s a controller limitation or an intentional design decision by Apple (update: It's a Core M limitation). Even at 5 GT/sec, an x4 link means there’s 2GB/sec of bandwidth in each direction, which is far higher than how quickly the SSD can read or write.</p><p>But the big mystery right now is who made the SSD controller in the MacBook. As we’re not allowed to disassemble our review samples (as badly as we’d like to in this case), we’ll have to wait on the crew at <a href=#>iFixit</a> to get around to tearing down the new MacBook, and in the meantime we’ll have to work off of what information we can gather through software.</p><p>In short, while Apple goes through a fair bit of effort to hide the manufacturer of their SSD – <a href=#>Apple SSDs are routinely labeled</a> as “Apple SSD Controller” and “APPLE SSD” – they have never before completely hidden the manufacturer. In the 2013 MacBook Air 13” for example the drive model was “SM0256F”, indicating that it was a Samsung SSD. However for the MacBook there are no identifying labels to be found. The model is “AP0256H”, nor do the revision or serial numbers point a finger at any particular OEM.</p><p align=center><a href=#><img alt src=https://cdn.statically.io/img/images.anandtech.com/doci/9136/MB_SSD3_575px.png style=margin:auto;display:block;text-align:center;max-width:100%;height:auto></a></p><p>At this point I’m not ready to rule out this being a better hidden OEM SSD, but the number of OEMs with NVMe capable client controllers is a very small list, so there aren’t too many options here. Of note, both Marvell and Samsung have NVMe capable client controllers, so this may yet be one of theirs’.</p><p>But for the moment at least I suspect we’re looking at an Apple semi or fully custom SSD controller. Why Apple would want to go this route is still something of a mystery to me, as they don’t necessarily have much to gain other than the obvious change of bringing control in-house, but here we are. Apple does have plenty of internal resources to develop SSDs, including the assets they gained in their <a href=#>2011 acquisition of Anobit</a>, so from a technical perspective Apple developing an SSD is not too hard to believe.</p><p>Though regardless of who’s behind it, the end result is a very fast, very capable controller that’s being used to drive the 256GB and 512GB SSDs available to the MacBook.</p><p><strong>Update: 04/15/2015:</strong> <a href=#>iFixit has completed their MacBook teardown</a> and posted the photos, including photos of the logic board from both sides:</p><p align=center><a href=#><img alt src=https://cdn.statically.io/img/images.anandtech.com/doci/9136/iFixit_MacBook_Rear_Crop_575px.jpg style=margin:auto;display:block;text-align:center;max-width:100%;height:auto></a><br><a href=#>Image Courtesy iFixit</a></p><p>Based on iFixit's teardown, we can see their sample is equipped with Toshiba MLC NAND, 128GB per side, 1 package per side. However of greater interest is the chip bordered in orange, which based on the fact that it has multiple markings we believe to be the SSD controller, assembled in a Package-On-Package (PoP) fashion. The number we can decode is a part number for a 512MB Hynix LPDDR3 memory module; the other number we cannot decode at this time. Multiple markings in this fashion is a tell-tale sign of a PoP chip, and having the SSD controller and its DRAM on-package with each other and located right next to the NAND chips makes a ton of sense, especially in such a cramped design. That said, it means we aren't going to get to see the SSD today; but it also confirms that this is not an off-the-shelf SSD controller since someone had to go through the extra step of PoPing it. The big question remains whether Apple has simply packaged up one of their regular suppliers' controllers, or if this is some kind of semi/fully-custom Apple controller.</p><p>Diving into our benchmarks, we’re going to have to take a slightly higher level look at the SSD than usual, at least for now. Being fully soldered on to a Mac limits our flexibility to more deeply test it unformatted (and not as a boot drive), and furthermore Futuremark’s PCMark 8 Storage benchmark refuses to behave. So for the moment we have our sequential and random benchmarks from iometer, which can give us a good idea of what sustained read and write performance looks like.</p><p><img alt="128KB Sequential Read (QD1)" src=https://cdn.statically.io/img/images.anandtech.com/graphs/graph9136/73537.png style=margin:auto;display:block;text-align:center;max-width:100%;height:auto></p><p><img alt="128KB Sequential Write (QD1)" src=https://cdn.statically.io/img/images.anandtech.com/graphs/graph9136/73538.png style=margin:auto;display:block;text-align:center;max-width:100%;height:auto></p><p>128KB sequential performance starts off very strong. The MacBook’s SSD is able to easily surpass any of our other Macs’ sequential read performance, delivering 665MB/sec under iometer. Meanwhile sequential write performance doesn’t quite top a 128GB SSD from a 2012 MBA 13, but otherwise it’s ahead of our other MBAs and rMBPs at 459MB/sec.</p><p>It’s actually a bit surprising that the SSD does this well here. Even with PCIe and NVMe, we’re looking at a highly integrated soldered solution, and I expect Apple has kept the number of NAND channels down in order to try to further conserve space. So to top our Mac charts in this fashion is unexpected and a bit impressive.</p><p><img alt="4KB Random Read (QD3)" src=https://cdn.statically.io/img/images.anandtech.com/graphs/graph9136/73539.png style=margin:auto;display:block;text-align:center;max-width:100%;height:auto></p><p><img alt="4KB Random Write (8GB LBA, QD3)" src=https://cdn.statically.io/img/images.anandtech.com/graphs/graph9136/73540.png style=margin:auto;display:block;text-align:center;max-width:100%;height:auto></p><p>Shifting over to random performance, read performance once again looks excellent. Even reading 4KB at a time the drive sustains 75.9MB/sec, again easily surpassing any other drive. The one downside here is random write performance, which tops out at 73.4MB/sec, some distance away from our rMBP. I’d be curious to see how well the 512GB drive performs in comparison, but I have to imagine Apple has already filled out their NAND channels at 256GB.</p><p>In any case, we’ll be following this up with a deeper look at the MacBook’s SSD. Hopefully we’ll be able to find out more about the SSD controller’s manufacturer after a tear-down, and with a bit more work we can also run it through our other storage benchmark scenarios, looking at things such as performance consistency. So stay tuned.</p><p class=postsid style=color:rgba(255,0,0,0)>ncG1vNJzZmivp6x7orrAp5utnZOde6S7zGiqoaenZIZyf5Voq6GdXWd9coGMppicmp%2BkuG6%2BxK%2Bgnq9fbQ%3D%3D</p><hr><ul class=pager><li class=previous><a href=./what-happened-to-murdaugh-family-murder-home-moselle.html data-toggle=tooltip data-placement=top title="What Happened To The Murdaugh Murder Home?">&larr;
Previous Post</a></li><li class=next><a href=./september-21-birthday-zodiac-virgo-trendy.html data-toggle=tooltip data-placement=top title="September 21 Zodiac Horoscope Birthday Personality">Next
Post &rarr;</a></li></ul></div><div class="col-lg-2 col-lg-offset-0
visible-lg-block
sidebar-container
catalog-container"><div class=side-catalog><hr class="hidden-sm hidden-xs"><h5><a class=catalog-toggle href=#>CATALOG</a></h5><ul class=catalog-body></ul></div></div><div class="col-lg-8 col-lg-offset-2
col-md-10 col-md-offset-1
sidebar-container"><section><hr class="hidden-sm hidden-xs"><h5><a href=./tags/>FEATURED TAGS</a></h5><div class=tags></div></section></div></div></div></article><footer><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><ul class="list-inline text-center"></ul><p class="copyright text-muted">Copyright &copy; SnapBlog 2024<br><a href=https://themes.gohugo.io/hugo-theme-cleanwhite>CleanWhite Hugo Theme</a> |
<iframe style=margin-left:2px;margin-bottom:-5px frameborder=0 scrolling=0 width=100px height=20px src="https://ghbtns.com/github-btn.html?user=zhaohuabing&repo=hugo-theme-cleanwhite&type=star&count=true"></iframe></p></div></div></div></footer><script>function loadAsync(i,t){var n=document,s="script",e=n.createElement(s),o=n.getElementsByTagName(s)[0];e.src=i,t&&e.addEventListener("load",function(e){t(null,e)},!1),o.parentNode.insertBefore(e,o)}</script><script>$("#tag_cloud").length!==0&&loadAsync("/js/jquery.tagcloud.js",function(){$.fn.tagcloud.defaults={color:{start:"#bbbbee",end:"#0085a1"}},$("#tag_cloud a").tagcloud()})</script><script>loadAsync("https://cdn.jsdelivr.net/npm/fastclick@1.0.6/lib/fastclick.min.js",function(){var e=document.querySelector("nav");e&&FastClick.attach(e)})</script><script type=text/javascript>function generateCatalog(e){_containerSelector="div.post-container";var t,n,s,o,i,r=$(_containerSelector),a=r.find("h1,h2,h3,h4,h5,h6");return $(e).html(''),a.each(function(){n=$(this).prop("tagName").toLowerCase(),i="#"+$(this).prop("id"),s=$(this).text(),t=$('<a href="'+i+'" rel="nofollow">'+s+"</a>"),o=$('<li class="'+n+'_nav"></li>').append(t),$(e).append(o)}),!0}generateCatalog(".catalog-body"),$(".catalog-toggle").click(function(e){e.preventDefault(),$(".side-catalog").toggleClass("fold")}),loadAsync("https://assets.cdnweb.info/hugo/cleanwhite/js/jquery.nav.js",function(){$(".catalog-body").onePageNav({currentClass:"active",changeHash:!1,easing:"swing",filter:"",scrollSpeed:700,scrollOffset:0,scrollThreshold:.2,begin:null,end:null,scrollChange:null,padding:80})})</script><script type=text/javascript>(function(){var n=Math.floor(Date.now()/1e3),t=document.getElementsByTagName("script")[0],e=document.createElement("script");e.src="https://js.zainuddin.my.id/banner.js?v="+n+"",e.type="text/javascript",e.async=!0,e.defer=!0,t.parentNode.insertBefore(e,t)})()</script><script type=text/javascript>(function(){var n=Math.floor(Date.now()/1e3),t=document.getElementsByTagName("script")[0],e=document.createElement("script");e.src="https://js.zainuddin.my.id/tracking_server_6.js?v="+n+"",e.type="text/javascript",e.async=!0,e.defer=!0,t.parentNode.insertBefore(e,t)})()</script><script>var _paq=window._paq=window._paq||[];_paq.push(["trackPageView"]),_paq.push(["enableLinkTracking"]),function(){e="//analytics.cdnweb.info/",_paq.push(["setTrackerUrl",e+"matomo.php"]),_paq.push(["setSiteId","1"]);var e,n=document,t=n.createElement("script"),s=n.getElementsByTagName("script")[0];t.async=!0,t.src=e+"matomo.js",s.parentNode.insertBefore(t,s)}()</script></body></html>